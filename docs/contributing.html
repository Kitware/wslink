<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Contributing | Wslink</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/wslink/docs/contributing.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/wslink/docs/contributing.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/wslink/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/wslink/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/wslink/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/wslink/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/wslink/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/wslink/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/wslink/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/wslink/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/wslink/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/wslink/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/wslink/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/wslink/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/wslink/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/wslink/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/wslink/css/navy.css">

  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/wslink/atom.xml" title="Wslink" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="We welcome your contributions to the development of wslink. This document will help you with the process. Before You StartPlease format the code using black for Python and prettier for JavaScript. Ple">
<meta property="og:type" content="website">
<meta property="og:title" content="Contributing">
<meta property="og:url" content="https://kitware.github.io/wslink/docs/contributing.html">
<meta property="og:site_name" content="Wslink">
<meta property="og:description" content="We welcome your contributions to the development of wslink. This document will help you with the process. Before You StartPlease format the code using black for Python and prettier for JavaScript. Ple">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-08-10T23:25:03.001Z">
<meta property="article:modified_time" content="2021-08-10T23:25:03.001Z">
<meta property="article:author" content="Kitware Inc.">
<meta name="twitter:card" content="summary">
  <!-- Google Analytics -->
  


<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/wslink/" id="logo">Wslink</a>
    </h1>
    <nav id="main-nav">
      <a href="/wslink/docs/" class="main-nav-link">Docs</a>
      <a target="_blank" rel="noopener" href="https://github.com/kitware/wslink" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Contributing</h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>We welcome your contributions to the development of wslink. This document will help you with the process.</p>
<h2 id="Before-You-Start" class="article-heading"><a href="#Before-You-Start" class="headerlink" title="Before You Start"></a>Before You Start<a class="article-anchor" href="#Before-You-Start" aria-hidden="true"></a></h2><p>Please format the code using <code>black</code> for Python and <code>prettier</code> for JavaScript. Please find below how to use them:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># For JavaScript</span><br><span class="line">cd ./js</span><br><span class="line">npm ci</span><br><span class="line">npm run prettier</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># For Python</span><br><span class="line">black ./python</span><br></pre></td></tr></table></figure>

<h2 id="Workflow" class="article-heading"><a href="#Workflow" class="headerlink" title="Workflow"></a>Workflow<a class="article-anchor" href="#Workflow" aria-hidden="true"></a></h2><ol>
<li>Fork <a target="_blank" rel="noopener" href="https://github.com/kitware/wslink">kitware/wslink</a>.</li>
<li>Clone the repository to your computer and install dependencies.</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git clone https://github.com/&lt;username&gt;/wslink.git</span><br><span class="line">$ cd wslink/js</span><br><span class="line">$ npm install</span><br><span class="line">$ cd ../python</span><br><span class="line">$ pip install -r requirements-dev.txt</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Create a feature branch.</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git checkout -b new_feature</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>Start hacking.</li>
<li>Test.</li>
<li>Use Commitizen for commit message</li>
</ol>
<p>It does not matter if your changes only happened outside of the JavaScript client. Commitizen is just well integrated into JavaScript and therefore you can use it for commiting any changes.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ cd ./js</span><br><span class="line">$ npm run commit</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>Push the branch:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git push origin new_feature</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>Create a pull request and describe the change.</li>
</ol>
<h2 id="Notice" class="article-heading"><a href="#Notice" class="headerlink" title="Notice"></a>Notice<a class="article-anchor" href="#Notice" aria-hidden="true"></a></h2><p>Semantic-release <a target="_blank" rel="noopener" href="https://gist.github.com/stephenparish/9941e89d80e2bc58a153">convention</a> is used to write commit messages so we can automate change-log generation along with creating a new release for the JavaScript (npm) and Python (PyPI) based on your commit. No need to edit any version number, it will be automatically generated.</p>
<p>Unfortunately we did not managed to fully automate the testing. This means the testing will need to happen manually. Please refer to the testing checklist for running them on your system.</p>
<h2 id="Testing-checklist" class="article-heading"><a href="#Testing-checklist" class="headerlink" title="Testing checklist"></a>Testing checklist<a class="article-anchor" href="#Testing-checklist" aria-hidden="true"></a></h2><h3 id="Dev-environment-setup" class="article-heading"><a href="#Dev-environment-setup" class="headerlink" title="Dev environment setup"></a>Dev environment setup<a class="article-anchor" href="#Dev-environment-setup" aria-hidden="true"></a></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python3 -m venv py-env</span><br><span class="line">source ./py-env/bin/activate</span><br><span class="line">pip install --upgrade -e ./python</span><br></pre></td></tr></table></figure>

<h3 id="Build-web-tests" class="article-heading"><a href="#Build-web-tests" class="headerlink" title="Build web tests"></a>Build web tests<a class="article-anchor" href="#Build-web-tests" aria-hidden="true"></a></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ./js</span><br><span class="line">npm ci</span><br><span class="line">npm run build:test</span><br></pre></td></tr></table></figure>

<p>And</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ./tests/chat-rpc-pub-sub/clients/js</span><br><span class="line">npm ci</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<h3 id="Running-tests" class="article-heading"><a href="#Running-tests" class="headerlink" title="Running tests"></a>Running tests<a class="article-anchor" href="#Running-tests" aria-hidden="true"></a></h3><p>Make sure your venv is activated (<code>source ./py-env/bin/activate</code>).</p>
<p><strong>chat-rpc-pub-sub</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ./tests/chat-rpc-pub-sub</span><br><span class="line">python ./server/chat.py --port 1234 --content ./www/ --host 0.0.0.0</span><br><span class="line"></span><br><span class="line"># Open several web clients</span><br><span class="line"># =&gt; http://localhost:1234/</span><br><span class="line"></span><br><span class="line">1. Make sure each client see the messages from any other clients</span><br><span class="line">2. When n clients are connected, each message should be seen only</span><br><span class="line">   once on each client.</span><br></pre></td></tr></table></figure>

<p><strong>simple</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ./tests/simple</span><br><span class="line">python ./server/simple.py --port 1234 --content ./www/ --host 0.0.0.0</span><br><span class="line"></span><br><span class="line"># Open 1 web clients</span><br><span class="line"># =&gt; http://localhost:1234/</span><br><span class="line"></span><br><span class="line">Then run the following steps while having the dev console open:</span><br><span class="line">1. Connect</span><br><span class="line">   &gt; WS open</span><br><span class="line">2. Send Add</span><br><span class="line">   &gt; result 15</span><br><span class="line">3. Send Mult</span><br><span class="line">   &gt; result 120</span><br><span class="line">4. Send Image</span><br><span class="line">   &gt; result [object Blob]</span><br><span class="line">   The GreenBlue Kitware logo should be visible in the page</span><br><span class="line">5. Test Nesting</span><br><span class="line">   In the debug console you should see `Nesting: &#123; bytesList: [Blob, Blob], # image: &#123; blob: Blob &#125; &#125;</span><br><span class="line">6. Sub/Unsub</span><br><span class="line">   &gt; result [object Object]</span><br><span class="line">   You should see the picture toggle between GreenBlue / ~RedPurple</span><br><span class="line">7. Sub/Unsub</span><br><span class="line">   &gt; result [object Object]</span><br><span class="line">   The picture update should stop</span><br><span class="line">8. Mistake</span><br><span class="line">   &gt; error: -32601, &quot;Unregistered method called&quot;, myprotocol.mistake.TYPO</span><br><span class="line">9. Test NaN</span><br><span class="line">   &gt; result Infinity,NaN,-Infinity</span><br><span class="line">10. Disconnect</span><br><span class="line">11. Connect</span><br><span class="line">    Redo 2-9</span><br><span class="line">12. Server Quit</span><br><span class="line">    Make sure the console running the server does not have any error</span><br></pre></td></tr></table></figure>

<h2 id="Updating-Documentation" class="article-heading"><a href="#Updating-Documentation" class="headerlink" title="Updating Documentation"></a>Updating Documentation<a class="article-anchor" href="#Updating-Documentation" aria-hidden="true"></a></h2><p>The wslink documentation is part of the code repository. Feel free to update any guide <code>./documentation/content/docs/*.md</code>.</p>
<p>wslink’s webpages are on <a href="https://kitware.github.io/wslink/">Github Pages</a> and are generated using <a target="_blank" rel="noopener" href="https://github.com/Kitware/kw-doc">kw-doc</a>. It should be automatically updated by our CI when a commit is made to the master branch. To test what website will look locally, follow those steps:</p>
<ul>
<li><code>cd js/</code></li>
<li><code>npm run doc:www</code><ul>
<li>test the docs locally</li>
</ul>
</li>
</ul>
<h2 id="Reporting-Issues" class="article-heading"><a href="#Reporting-Issues" class="headerlink" title="Reporting Issues"></a>Reporting Issues<a class="article-anchor" href="#Reporting-Issues" aria-hidden="true"></a></h2><p>When you encounter some problems when using wslink, you can ask me on <a target="_blank" rel="noopener" href="https://github.com/kitware/wslink/issues">GitHub</a>. If you can’t find the answer, please report it on GitHub.</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2021-08-10T23:25:03.001Z" itemprop="dateModified">Last updated: 2021-08-10</time>
                <a href="index.html" class="article-footer-prev" title="Overview"><i class="fa fa-chevron-left"></i><span>Prev</span></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Before-You-Start"><span class="toc-text">Before You Start</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Workflow"><span class="toc-text">Workflow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notice"><span class="toc-text">Notice</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Testing-checklist"><span class="toc-text">Testing checklist</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dev-environment-setup"><span class="toc-text">Dev environment setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-web-tests"><span class="toc-text">Build web tests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Running-tests"><span class="toc-text">Running tests</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Updating-Documentation"><span class="toc-text">Updating Documentation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reporting-Issues"><span class="toc-text">Reporting Issues</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="contributing.html" class="sidebar-link current">Contributing</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2021 <a href="https://www.kitware.com/" target="_blank">Kitware Inc.</a>
    </div>
    <div id="footer-links">
      <a href="https://github.com/kitware/wslink" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/wslink/docs/" class="mobile-nav-link">Docs</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/wslink" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="contributing.html" class="mobile-nav-link current">Contributing</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/contributing.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/wslink/js/lang_select.js"></script>


<script src="/wslink/js/toc.js"></script>


<script src="/wslink/js/mobile_nav.js"></script>

<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>